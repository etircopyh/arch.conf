##################
#   mpv config   #
##################

##################
# Video Settings #
##################

# Start in fullscreen mode by default.
#fs=yes

# Remember last video position
save-position-on-quit

watch-later-directory=~/.local/state/mpv/watch_later

cursor-autohide-fs-only
cursor-autohide=1000

force-seekable

# OSD
osd-scale=1
osd-font-size=55
# NOGUI
term-osd-bar
term-osd-bar-chars="╞═╡ │"

###########
# Filters #
###########
#af=drc=2
#af=lavfi=[dynaudnorm=g=5:f=250:r=0.9:p=0.5]
#af=lavfi=[loudnorm=I=-16:TP=-3:LRA=4]
af-add='dynaudnorm=g=5:f=250:r=0.9:p=0.5'
af-add=scaletempo2
ad-lavc-ac3drc=1
ad-lavc-downmix=yes
ad-lavc-threads=0

# Video aspect ratio
#video-aspect-override=16:9
#keepaspect=no

# Experimental
opengl-pbo

#opengl-swapinterval=1

# Screenshots
screenshot-directory=~/Media/Screenshots
screenshot-format=png
screenshot-png-compression=0
screenshot-tag-colorspace=yes
screenshot-high-bit-depth=yes

# Force starting with centered window
#geometry=50%:50%

# Don't allow a new window to have a size larger than 90% of the screen size
#autofit-larger=90%x90%

# Do not close the window on exit.
#keep-open=yes

# Do not wait with showing the video window until it has loaded. (This will
# resize the window once video is loaded. Also always shows a window with
# audio.)
#force-window=immediate

# Disable the On Screen Controller (OSC).
#osc=no

# Keep the player window on top of all other windows.
#ontop=yes

# Use GPU-accelerated video output by default.
vo=gpu

# HQ video rendering preset
profile=gpu-hq

# Framedropping
#hr-seek-framedrop=no
#framedrop=no
#vd-lavc-framedrop=none

# High quality scaling
#scale=ewa_lanczossharp
#cscale=ewa_lanczossharp

# Low quality scaling
scale=bilinear
cscale=bilinear

# X11
#gpu-context=x11egl
x11-bypass-compositor=no

# Wayland
gpu-context=wayland
#wayland-disable-vsync=yes

# Force video to lock on the display's refresh rate, and change video and audio
# speed to some degree to ensure synchronous playback - can cause problems
# with some drivers and desktop environments.
# CPU HARD
#video-sync=display-resample

# Interpolation
#tscale=oversample

# Enable hardware decoding if available.
hwdec=vaapi

##################
# Audio Settings #
##################

ao=pipewire,pulse,alsa
alsa-resample=no

#audio-normalize-downmix=yes

# Specify default audio device. You can list devices with: --audio-device=help
#audio-device=auto

# Disable player window appearance on audio file playback
audio-display=no

# Do not filter audio to keep pitch when changing playback speed.
#audio-pitch-correction=no

# Volume
volume=35
volume-max=150

# Format
#audio-channels=stereo
#audio-samplerate=96000
#audio-format=float

##################
# Other Settings #
##################

# Subs
embeddedfonts=yes
sub-auto=fuzzy
sub-file-paths=Subs:Subtitles:Eng:Rus
sub-ass-override=strip
slang=en,eng
sub-font=Exo 2

# Pretend to be a web browser. Might fix playback with some streaming sites,
# but also will break with shoutcast streams.
#user-agent="Mozilla/5.0"

# Cache settings
#
# Use a large seekable RAM cache even for local input.
#cache=yes
#demuxer-seekable-cache=yes
#
# Use extra large RAM cache (needs cache=yes to make it useful).
#demuxer-max-bytes=800M
#demuxer-max-back-bytes=200M
#
# Disable the behavior that the player will pause if the cache goes below a
# certain fill size.
#cache-pause=no
#
## Store cache payload on the hard disk instead of in RAM. (This may negatively
# impact performance unless used for slow input such as network.)
#cache-dir=~/.cache/
#cache-on-disk=yes

# Play English audio if available.
alang=en,eng

# Change subtitle encoding. For Arabic subtitles use 'cp1256'.
# If the file seems to be valid UTF-8, prefer UTF-8.
# (You can add '+' in front of the codepage to force it.)
#sub-codepage=cp1256

# You can also include other configuration files.
#include=/path/to/the/file/you/want/to/include


###########
# Youtube #
###########

ytdl-format=bestvideo[height<=?720][fps<=?30][vcodec!=vp9]+bestaudio/best


############
# Profiles #
############

#[eye-cancer]
#sharpen=5

#[wayland]
#vo=gpu
#hwdec=auto
#gpu-context=wayland



# File Type Profiles
# GIF Files
[extension.gif]
cache=no
no-pause
loop-file=yes
# WebM Files
[extension.webm]
no-pause
loop-file=yes
# Music
[extension.mp3]
no-resume-playback
volume=65
